"function display_cmnts(ls){"
	// ls is an array of: [cmnt_id, parent_id, user_id, timestamp, cmnt_content], with parent_id==0 first (order by (parent_id=0) ASC)
	"let s = \"\";"
	"for (const [cmnt_id, parent_id, user_id, timestamp, username, cmnt_content] of ls){"
		"const _s ="
			"'<div id=\"c' + cmnt_id + '\" class=\"cmnt\">' +"
				"'<div class=\"head\">' +"
					"'<a class=\"username\" onclick=\"view_user(' + user_id + ')\">' + username + '</a>' +"
					"'<time data-t=\"' + timestamp + '\">' + timestamp2dt(timestamp) + '</time>' +"
				"'</div>' +"
				"'<p>' +"
					"cmnt_content +"
				"'</p>' +"
				"'<div class=\\'replies\\'></div>' +"
			"'</div>'"
		";"
		"if (parent_id === 0){"
			"s += _s;"
		"} else if (s !== undefined){"
			"document.getElementById('cmnts').innerHTML = s;"
			"s = undefined;"
		"} else {"
			"document.getElementById('c' + parent_id).getElementsByClassName('replies')[0].innerHTML = _s;"
		"}"
	"}"
	"if (s !== undefined)"
		"document.getElementById('cmnts').innerHTML = s;"
	"unhide(\"cmnts\");"
"}"

"function view_post(db_id, post_id){"
	"$.ajax({"
		"dataType: \"json\","
		"url: \"/a/x/p/\"+db_id+\"/\"+post_id,"
		"success: function(data){"
			"display_cmnts(data);"
		"},"
		"error: function(){"
			"alert(\"Error getting file data\");"
		"}"
	"});"
"}"
