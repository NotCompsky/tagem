"function show_update_orig_src_dialog(){"
	"unhide('dirselect-container');"
	"unhide('orig-src-dialog');"
"}"
"function hide_update_orig_src_dialog(){"
	"unhide('dirselect-container');"
	"unhide('orig-src-dialog');"
"}"

"function update_orig_src(){"
	"const inp = document.getElementById(\"orig-src-input\");"
	"const url = inp.value;"
	"const dir = document.getElementById(\"dirselect\").value;"
	"const _dir_name = d[parseInt(dir)][0];"
	"if(dir === \"\"){"
		"alert(\"Please set the directory - it should be a prefix of the URL\");"
		"return;"
	"}"
	"if(!url.startsWith(_dir_name)){"
		"alert(\"The directory '\" + _dir_name + \"' is not a prefix of the URL\");"
		"return;"
	"}"
	"$.ajax({"
		"type:\"POST\","
		"dataType:\"text\","
		"url:\"http://localhost:1999/f/orig/\" + file_id + \"/\" + dir,"
		"data:url.substr(_dir_name.length),"
		"success:function(){"
			"hide_update_orig_src_dialog();"
		"}"
	"});"
"}"
