#define CREATE_ACTION_BTN(r, data, elem) \
	"<button id=\"" BOOST_PP_TUPLE_ELEM(0, elem) "-btn\" onclick=\"" BOOST_PP_TUPLE_ELEM(1, elem) "\">" BOOST_PP_TUPLE_ELEM(2, elem) "</button>" \

#define CREATE_HEADER(r, data, name) \
	"<div class=\"td\">" \
		name \
	"</div>"
#define CREATE_FILTER(r, data, placeholder) \
	BOOST_PP_IF( \
		BOOST_PP_SUB(BOOST_PP_TUPLE_ELEM(0, placeholder), 1), /* 0 for 0 and 1; 1 for 2 */ \
		"<div class=\"td\">" \
			"<input type=\"text\" placeholder=\"" BOOST_PP_TUPLE_ELEM(1, placeholder) "\"/>" \
		"</div>", \
		"<div class=\"td\"></div>" \
	)
#define CREATE_SORT(r, data, is_sortable) \
	BOOST_PP_IF( \
		BOOST_PP_TUPLE_ELEM(0, is_sortable), \
		"<div class=\"td sort\"><a>Sort</a></div>", \
		"<div class=\"td\"></div>" \
	)
#define CREATE_HIDE(r, data, _) \
	"<div class=\"td hide\"><a>Hide</a></div>"

"<div class=\"table\" id=\"" TBL_ID "\">"

#ifdef IS_SELECTABLE
	// Display examples of what each selection colour means
	"<button onclick=\"" MINIMISED_JS_DECL_toggle "('selection-help')\">Help</button>"
	"<div id=\"selection-help\" class=\"help\">"
		"<h3>Selection Types</h3>"
		"<p class=\"selected1\">Primary</p> is used for assigning tags"
		"<br/>"
		"<p class=\"selected2\">Secondary</p> is used only to select duplicates of the primary file for merging"
	"</div>"
# undef IS_SELECTABLE
#endif

	"<div id=\"" TBL_ID "-action-btns\" class=\"action-btns\">"
		"<button onclick=\"" MINIMISED_JS_DECL_next_page "('" TBL_ID "',-1)\" class=\"next-page\">&#9666;</button>"
		"<button onclick=\"" MINIMISED_JS_DECL_next_page "('" TBL_ID  "',1)\" class=\"next-page\">&#9656;</button>"
		"<button onclick=\"" MINIMISED_JS_DECL_filter_tbl "('" TBL_ID "'," TBL_NAME_COLS "," TBL_TAGS_COLS ");\">Filter</button>"
#ifdef ACTION_BTNS
BOOST_PP_SEQ_FOR_EACH(CREATE_ACTION_BTN, _, BOOST_PP_VARIADIC_SEQ_TO_SEQ(ACTION_BTNS))
# undef ACTION_BTNS
#endif
#undef CREATE_ACTION_BTN
	"</div>"

"<div class=\"thead\">"
	// Name row
	"<div class=\"tr\">"
BOOST_PP_SEQ_FOR_EACH(CREATE_HEADER, _, COL_NAMES)
#undef CREATE_HEADER
	"</div>"

	// Filter row
	"<div class=\"tr\">"
BOOST_PP_SEQ_FOR_EACH(CREATE_FILTER, _, BOOST_PP_VARIADIC_SEQ_TO_SEQ(COL_FILTERS))
#undef CREATE_FILTER
	"</div>"

	// Sort row
	"<div class=\"tr\">"
BOOST_PP_SEQ_FOR_EACH(CREATE_SORT, _, BOOST_PP_VARIADIC_SEQ_TO_SEQ(COL_FILTERS))
	"</div>"
#undef CREATE_SORT
#undef COL_FILTERS
	"<div class=\"tr\">"
BOOST_PP_SEQ_FOR_EACH(CREATE_HIDE, _, COL_NAMES)
	"</div>"
#undef COL_NAMES
#undef CREATE_HIDE
"</div>"
"<div class=\"tbody\"></div>"
"</div>"

#undef TBL_ID
#undef TBL_NAME_COLS
#undef TBL_TAGS_COLS
