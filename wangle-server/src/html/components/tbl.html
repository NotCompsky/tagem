#define CREATE_ACTION_BTN(r, data, elem) \
	"<button onclick=\"" BOOST_PP_TUPLE_ELEM(0, elem) "\">" BOOST_PP_TUPLE_ELEM(1, elem) "</button>"

#define CREATE_HEADER(r, data, name) \
	"<div class=\"td\">" \
		name \
	"</div>"
#define CREATE_FILTER(r, data, placeholder) \
	BOOST_PP_IF( \
		BOOST_PP_TUPLE_ELEM(0, placeholder), \
		"<div class=\"td\">" \
			"<input type=\"text\" placeholder=\"" BOOST_PP_TUPLE_ELEM(1, placeholder) "\"/>" \
		"</div>", \
		"<div class=\"td\"></div>" \
	)
#define CREATE_SORT(r, data, is_sortable) \
	BOOST_PP_IF( \
		BOOST_PP_TUPLE_ELEM(0, is_sortable), \
		"<div class=\"td sort\">Sort</div>", \
		"<div class=\"td\"></div>" \
	)

"<div class=\"table\" id=\"" TBL_ID "\">"

#ifdef ACTION_BTNS
BOOST_PP_SEQ_FOR_EACH(CREATE_ACTION_BTN, _, BOOST_PP_VARIADIC_SEQ_TO_SEQ(ACTION_BTNS))
# undef ACTION_BTNS
#endif
#undef CREATE_ACTION_BTN

"<div class=\"thead\">"
	"<div class=\"tr\">"
		"<div id=\"files-tagging\" class=\"td\">"
			"<button onclick=\"deselect_rows('#" TBL_ID " .tbody .tr')\">Deselect All</button>"
		"</div>"
		"<div class=\"td\">"
			"<button class=\"filter-btn\" onclick=\"filter_tbl('" TBL_ID "'," TBL_NAME_COLS "," TBL_TAGS_COLS ");\">Filter</button>"
		"</div>"
	"</div>"

	// Name row
	"<div class=\"tr\">"
BOOST_PP_SEQ_FOR_EACH(CREATE_HEADER, _, COL_NAMES)
#undef CREATE_HEADER
#undef COL_NAMES
	"</div>"

	// Filter row
	"<div class=\"tr\">"
BOOST_PP_SEQ_FOR_EACH(CREATE_FILTER, _, BOOST_PP_VARIADIC_SEQ_TO_SEQ(COL_FILTERS))
#undef CREATE_FILTER
	"</div>"

	// Sort row
	"<div class=\"tr\">"
BOOST_PP_SEQ_FOR_EACH(CREATE_SORT, _, BOOST_PP_VARIADIC_SEQ_TO_SEQ(COL_FILTERS))
#undef CREATE_SORT
#undef COL_FILTERS
	"</div>"
"</div>"
"<div class=\"tbody\"></div>"
"</div>"

#undef TBL_ID
#undef TBL_NAME_COLS
#undef TBL_TAGS_COLS
