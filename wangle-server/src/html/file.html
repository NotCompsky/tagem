#include "components/before_body.html"
		"<script>"
			"var file_id;"
			
			"var file_name;"
			"var dir_name;"
			"var device_id;"
			"var mimetype;"
			"var file_tags;"
			
			"function load_f(_file_id){"
				"file_id = _file_id;"
				"$.ajax({"
					"dataType: \"json\","
					"url: \"/a/f/i/\"+file_id,"
					"success: function(data){"
						"var s = \"\";"
						
						"document.getElementById('profile-img').src = data[0];"
						"const dir_id = data[1];"
						"file_name = data[2];"
						"file_tags = data[3].split(\",\");"
						"display_tags(file_tags, \"#tags\");"
						"mimetype = data[4];"
						
						"$('#dir_name').attr(\"href\",  \"/d#\" + dir_id);"
						"set_dir_name_from_id(dir_id, \"#dir_name\");"
						
						"$('#profile-name').text(file_name);"
					"},"
					"error: function(){"
						"alert(\"Error populating table\");"
					"}"
				"});"
			"}"
			
			"$(document).ready(function(){" // Only execute after page has finished loading
				"populate_tagselects();"
				"load_f(window.location.hash.substr(1));"
			"});"
		"</script>"


#define WRAPPER1 "tags"
#define SECTION_BEFORE_FILES_TBL \
	"<a id=\"dir_name\"></a><br/>" \
	"<div id=\"view\"></div><br/>" \
	"<a onclick=\"set_embed_html('#view', device_id, $('#dir_name').text(), file_name)\">View</a>"
#define FILE_TAGGER_TEXT "Add Tags to File"
#define FILE_TAGGER_FN "display_tags_add(tag_ids, '#tags')"
#define FILE_TAGGER_FILE_IDS "file_id"
#include "tag_socialmediaised.html"


#include "components/after_body.html"
